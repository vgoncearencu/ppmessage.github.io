<!DOCTYPE html><html lang="en-US"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>PPMessage - An Open Source Realtime Online Customer Communication Platform - (3) | Blog of PPMessage</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/pure-min.css"><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">PPMessage - An Open Source Realtime Online Customer Communication Platform - (3)</h1><a id="logo" href="/.">Blog of PPMessage</a><p class="description">Open Source Plug &amp; Play Customer Communication System</p></div><div id="nav-menu"><a href="/." class="current"><i class="icon-home"> Home</i></a><a href="/archives/"><i class="icon-archive"> Archive</i></a><a href="/about/"><i class="icon-about"> About</i></a><a href="/atom.xml"><i class="icon-rss"> RSS</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post post-page"><h1 class="post-title">PPMessage - An Open Source Realtime Online Customer Communication Platform - (3)</h1><div class="post-meta">2016-04-09 | </div><span data-disqus-identifier="2016/04/09/PPMessage-An-Open-Source-Realtime-Online-Customer-Communication-Platform-3/" class="disqus-comment-count"></span><div class="post-content"><h1 id="做立水桥边最好的开源实时在线客户通讯平台之人工智能之路"><a href="#做立水桥边最好的开源实时在线客户通讯平台之人工智能之路" class="headerlink" title="做立水桥边最好的开源实时在线客户通讯平台之人工智能之路"></a>做立水桥边最好的开源实时在线客户通讯平台之人工智能之路</h1><blockquote>
<p>本文主要是讲故事，代码是可以运行的。但是制作一个聊天机器人，真的需要很多技术，以后我会开帖专门讲 PPMessage 内如何利用深度学习的。</p>
</blockquote>
<h2 id="从一段代码开始"><a href="#从一段代码开始" class="headerlink" title="从一段代码开始"></a>从一段代码开始</h2><blockquote>
<p>这是我早上为了写这些文字，专门写的一段Python“软码”。运行这段代码之前，需要通过pip安装numpy、scipy、scikit-learn、jieba，最好是Mac电脑。当然看不懂也没关系，因为故事在后面。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Copyright (C) 2010-2016 PPMessage.</span></span><br><span class="line"><span class="comment"># Guijin Ding, dingguijin@gmail.com</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.feature_extraction.text <span class="keyword">import</span> TfidfVectorizer</span><br><span class="line"><span class="keyword">from</span> sklearn.feature_extraction.text <span class="keyword">import</span> CountVectorizer</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line">                                    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_classification</span><span class="params">()</span>:</span></span><br><span class="line">    _target = []</span><br><span class="line">    _data1 = [<span class="string">"您好"</span>, <span class="string">"你多大了"</span>, <span class="string">"你是什么呀"</span>, <span class="string">"你怎么了"</span>, <span class="string">"你男的女的呀"</span>]</span><br><span class="line">    _target.append(<span class="string">"我是PPMessage智能客服，我的名字叫PP，我很面，就是一个小PP，所以叫PP，您有什么的问题需要问我？"</span>)</span><br><span class="line"></span><br><span class="line">    _data2 = [<span class="string">"我想买"</span>, <span class="string">"怎么部署PPMESSAGE"</span>, <span class="string">"怎么下载PPMessage"</span>, <span class="string">"ppmessage是什么意思"</span>]</span><br><span class="line">    _target.append(<span class="string">"这个问题涉及到我们的核心利益 ^_^，转人工客服吧？"</span>)</span><br><span class="line">    </span><br><span class="line">    _X = []</span><br><span class="line">    _Y = []</span><br><span class="line">    <span class="keyword">for</span> _data <span class="keyword">in</span> _data1:</span><br><span class="line">        _X.append(<span class="string">" "</span>.join(jieba.lcut(_data)))</span><br><span class="line">        _Y.append(<span class="number">0</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">for</span> _data <span class="keyword">in</span> _data2:</span><br><span class="line">        _X.append(<span class="string">" "</span>.join(jieba.lcut(_data)))</span><br><span class="line">        _Y.append(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    _v = TfidfVectorizer()</span><br><span class="line">    _X = _v.fit_transform(_X)</span><br><span class="line">    </span><br><span class="line">    _clf = SVC(C=<span class="number">1000000.0</span>, gamma=<span class="string">'auto'</span>, kernel=<span class="string">'rbf'</span>)</span><br><span class="line">    _clf.fit(_X, _Y)</span><br><span class="line">       </span><br><span class="line">    _data = <span class="string">"PPMessage"</span></span><br><span class="line">    _x = <span class="string">" "</span>.join(jieba.lcut(_data))</span><br><span class="line">    _x = _v.transform([_x])</span><br><span class="line">    _y = _clf.predict(_x)</span><br><span class="line">    print(_target[_y[<span class="number">0</span>]])</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    _classification()</span><br></pre></td></tr></table></figure>
<p>这个周一的时候，我跟公司的小朋友说，我要在现在的客服系统中添加人工智能的支持，春节前完成，他们的目光（其实没有目光，因为他们从来都不正眼看我）和神态就是“狐疑”、“不屑”、“又吹牛逼”，好吧，平时不积德，孩子们都这样看我，吹牛逼太多，兑现的太少，不做争辩，默默的回到座位上，继续搜啊搜，实验啊实验。</p>
<p>如果您运行了我上边的代码，可以替我证明了。WTF，这么简单，对，就这么简单，是曾经把它想得太复杂，各种吹牛逼的声音把它渲染的没有了真相，曾经无数人问我，微信的信令到底对运营商有啥冲击，我想告诉他微信那里有个毛信令，它跟信令没有半毛钱关系，但是文人就是这样写，老百姓听到的就是这个；靠，这算给啥，拿出来臭现，不就是调调别人的API，就出来了吗，老子也会，谢谢，你和我是一伙的。</p>
<p>我想讲的故事刚要开始，那是2007的春天，我已经辞去了一个干了太久的工作，闲着，一个朋友介绍给我参与一个车牌识别的项目，我来作识别引擎。当然怎么吹的牛逼和哪里来的自信我已经完全忘记了，因为我从来没有做过什么图像处理、字符识别和人工智能相关的事情，收了人家的钱，就得干活呀。当然就是搜啊搜，找啊找，看书补啊补。有很多，主要都是各种论文居多。期间还有一个朋友送我了一张卡，可以在全国范围内搜索到优秀的硕士、博士的优秀论文，非常感谢，希望他能看到我写的这段故事，运行一下我上面的程序，算是我给他的反馈。这些论文都写的人模狗样的，但一到实作就一笔带过，每当到这个时候“一万匹马从我心头跑过…”来形容那是最恰当不过的，总之都是废材。</p>
<p>故事讲到这里，显然没有结束，皇天如何怎舍得负我，我找到了，是两个老外，他们与我远隔万里，为了一个共产主义的共同理想救我于水火，我想我可以提一下我给他们起得名字，一个叫 “立春” <a href="http://yann.lecun.com/" target="_blank" rel="external">Yann LeCun</a>，一个叫“麦克 奥尼尔” <a href="http://www.codeproject.com/Articles/16650/Neural-Network-for-Recognition-of-Handwritten-Digi" target="_blank" rel="external">Mike O’neilll</a>，好奇就点点这两个链接。立春那时候还是一个名不见经传大学老师，现在已经是Facebook的座上宾，当然2007年好像也没有Facebook，他建立和推广的CNN卷积神经网路也已经成为“深度学习”的代名词。 麦克只是一位专利代理人，他为了理解他的客户的专利要求，所以有时间写一些“没用处”程序来做做实验，理解一下客户的概念。麦克同学闲来无事，恰恰把立春老师的一些关于卷积神经网络的论文给实作了一下，全部的代码，配合一大堆不厌其烦、深入浅出的解释，轻飘飘地就拯救了我。</p>
<p>无图无真相，我蹩脚的英语，不足以表达对麦克同学的仰慕之情。</p>
<p><img src="/content/images/mike-comments.png" alt="Mike 评论"></p>
<p>有共产主义战士相助，当然是无坚不摧了，事情也就结束了。今天为了抓上边的图，我特意看了一些麦克先生的这篇文章和评论，他在2006年12月就把文章写好，没有再改过，但直到今天还有人在问他各种白痴问题，他还在回答，我若不是为了吹牛，也已经把这个战士放到了一边。</p>
<p>立春已经得到了Facebook的青睐，可能已经大富大贵；麦克战士也许还在做他的专利代理人，计件收着客户支付给他的专利代理费用，过着平凡的生活。我在这里想说的是相比那些高大上的论文，NB的立春，麦克真的给了我巨大的帮助，指引我看到人工智能这条路径，从此我又做过股票、Wifi信号定位、人脸识别、手写识别、还有这周刚刚做的智能客服的人工智能相关工作。</p>
<p>当日复一日被媒体上的大咖们令人震撼的火箭经历所ROCK的时候，偶尔想起这些平凡的甚至是不相识的人带给我的帮助与感动，让我觉得做现在的事情还是蛮有意义，“这个不完美的世界，没有因为我们存在而变得更恶心一点点”。</p>
</div><div class="tags"></div><div class="post-nav"><a href="/2016/05/03/Install-PPMessage-on-Debian-8-04-Jessie/" class="pre"><i class="icon-previous">Install PPMessage on Debian 8.04 (Jessie)</i></a><a href="/2016/03/08/PPMessage-An-Open-Source-Realtime-Online-Customer-Communication-Platform-2/" class="next">PPMessage - An Open Source Realtime Online Customer Communication Platform - (2)<i class="icon-next"></i></a></div><div id="disqus_thread"><script>var disqus_shortname = 'ppmessageblog';
var disqus_identifier = '2016/04/09/PPMessage-An-Open-Source-Realtime-Online-Customer-Communication-Platform-3/';
var disqus_title = 'PPMessage - An Open Source Realtime Online Customer Communication Platform - (3)';
var disqus_url = 'http://yoursite.com/2016/04/09/PPMessage-An-Open-Source-Realtime-Online-Customer-Communication-Platform-3/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//ppmessageblog.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search" class="search-form-input"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title">Categories</div></div><div class="widget"><div class="widget-title">Tags</div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title">Recent</div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/05/05/PPMessage-Configurations/">PPMessage-Configurations</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/03/Install-PPMessage-on-Ubuntu-Server/">Install PPMessage on Ubuntu Server</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/03/Install-PPMessage-on-Debian-8-04-Jessie/">Install PPMessage on Debian 8.04 (Jessie)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/09/PPMessage-An-Open-Source-Realtime-Online-Customer-Communication-Platform-3/">PPMessage - An Open Source Realtime Online Customer Communication Platform - (3)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/08/PPMessage-An-Open-Source-Realtime-Online-Customer-Communication-Platform-2/">PPMessage - An Open Source Realtime Online Customer Communication Platform - (2)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/08/PPMessage-An-Open-Source-Realtime-Online-Customer-Communication-Platform-1/">PPMessage - An Open Source Realtime Online Customer Communication Platform - (1)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/08/Deploy-PPMessage-on-Linux/">Deploy PPMessage on Linux</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/08/Deploy-PPMessage-on-Mac/">Deploy PPMessage on Mac</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/04/Deploy-PPMessage-with-Docker/">PPMessage & Docker</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/04/Run-VPN-client-on-Aliyun/">Run VPN client on Aliyun</a></li></ul></div><div class="widget"><div class="widget-title">Recent Comments</div><script type="text/javascript" src="//ppmessageblog.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title">Blogroll</div><ul></ul><a href="http://www.ppmessage.com/" title="PPMessage Home" target="_blank">PPMessage Home</a></div></div></div></div><div id="footer">© <a href="/." rel="nofollow">Blog of PPMessage.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div><a id="rocket" href="#top" class="show"></a><script src="/js/jquery.min.js"></script>
<script src="/js/totop.js"></script><script src="/js/fancybox.pack.js"></script>
<script src="/js/jquery.fancybox.js"></script><link rel="stylesheet" href="/css/jquery.fancybox.css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-72560081-1','auto');ga('send','pageview');
</script></div></body></html>